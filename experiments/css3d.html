<html>
<head>
<title>Nikolaj Baer</title>
<style type="text/css">
    body {
        margin: 0px;
        padding: 0px;
        width: 100%;
        height: 100%;
        background-color: #111;
        overflow: hidden;
    }
    .char {
        opacity: 0.99;
        margin-top: -1.0em;
        margin-left: -0.7em;
        color: #fff;
        font-size: 142pt;
        font-family: Courier;
        width: 50px;
        height: 50px;
        -webkit-transform-style: preserve-3d;

        /* CSS3 Stuff */
        /*-webkit-transform: rotate3d(0,1,1,30deg) scale3d(0.5,1,1);*/
        /*border-radius: 150px; */
        -webkit-transform: perspective(800);
        -webkit-transorm-origin: 50% 50% 50%;
    }
    .last {
        position:absolute;
        top: 25%;
        left: 75%;
        color: #eef;    
        opacity: 0.9;
    }
    .past {
        color: #efe;
    }
    .twirl {
        -webkit-transform: rotate3d(0,1,0,-5deg) rotate3d(0,0,1,1deg) scale(0.99);
        -webkit-backface-visibility: visible;
    }
</style>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
<script type="text/javascript">
    var hello = "My words usually go in circles.|Go ahead,|type something too: ";
    var editable = false;

    // TODO add some spiraling awesome
    function type(c){
        $(".past").addClass("twirl").removeClass("past"); 
        $(".last").addClass("past").removeClass("last");
        $("body").append('<div class="char last">'+c+'</div>');
        $(".past").appendTo(".last");
        // TODO rotate all the old ones
    }

    function hello_type(){
        var l=$(".char").length;
        if(l < hello.length){
            var c=hello.charAt(l);
            var pause=50;
            if(c=="|"){ c=" "; pause=500; }
            type(c);
            setTimeout(hello_type,Math.random()*100+pause);
        }else{
            editable=true;
        }
    }
    
    function backspace(){
        $(".last").addClass("remove");
        $(".past").addClass("last").removeClass("past");
        $(".last > div").addClass("past");
        $(".last").appendTo("body");
        $(".remove").remove();
    }
    
    $(document).ready(function(){
        $("body").keypress(function(e){
            // ignore backspace which goes back on chrome
            if(e.keyIdentifier=='U+0008'||e.keyIdentifier=='Backspace'){ 
                e.preventDefault();
                if(editable){ backspace(); }
                return false; 
            }
            
            if(editable){
                var s = String.fromCharCode(e.charCode);
                type(s);
            }
        });     
        hello_type();
    });
</script>
</head>
<body>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
<script type="text/javascript">
_uacct = "UA-797423-1";
urchinTracker();
</script>
</body>
</html>
